@inherits TestComponentBase

<Fixture Setup="Setup" Test="InitialRender" Description="Initial Render">
    <ComponentUnderTest>
        <Todos/>
    </ComponentUnderTest>

    <Fragment Id="InitialRender">
        <MudButton>Add List</MudButton>
        <MudDivider diff:ignore/>
        <MudButton diff:ignore>Add Todo</MudButton>
    </Fragment>
</Fixture>

@code {

    private readonly Mock<IAsyncRepository<Todo>> _todoRepoMock = new();
    private readonly Mock<IAsyncRepository<TodoList>> _todoListRepoMock = new();

    void Setup(Fixture fixture)
    {
        fixture.Services.AddScoped(_ => _todoRepoMock.Object);
        fixture.Services.AddScoped(_ => _todoListRepoMock.Object);
    }

    static void InitialRender(Fixture fixture)
    {
        var cut = fixture.GetComponentUnderTest();
        var fragment = fixture.GetFragment("InitialRender");

        cut.MarkupMatches(fragment.Markup);
    }

}