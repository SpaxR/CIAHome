@inject IAsyncRepository<TodoList> TodoListRepository

<MudList>
    @if (List != null)
    {
        @foreach (var todo in List.Todos)
        {
            <TodoItem Todo="@todo"
                      OnUpdate="@(() => TodoListRepository.Update(List))"
                      OnDelete="@(() => DeleteTodo(todo))"/>
        }
    }
</MudList>

<MudButton OnClick="AddTodo">Add Todo</MudButton>

@code {

    [Parameter]
    public TodoList List { get; set; }

    private async Task AddTodo()
    {
        List.Todos.Add(new Todo());
        await TodoListRepository.Update(List);
    }

    private async Task DeleteTodo(Todo todo)
    {
        List.Todos.Remove(todo);
        await TodoListRepository.Update(List);
    }

}