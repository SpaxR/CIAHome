<MudItem Style="position: relative;">

    @ChildContent

    <MudOverlay Absolute="true"
                DarkBackground="@(Background == OverlayBackground.Dark || Background == OverlayBackground.Auto && Status == OverlayStatus.Error)"
                LightBackground="@(Background == OverlayBackground.Light || Background == OverlayBackground.Auto && Status == OverlayStatus.Loading)"
                Visible="@(Status != OverlayStatus.Content)">

        @if (Status == OverlayStatus.Loading)
        {
            <MudProgressCircular Color="Color.Secondary" Indeterminate="true"/>
        }

        @if (Status == OverlayStatus.Error)
        {
            <MudIcon Icon="@(Icons.Filled.Error)" Color="Color.Error" Size="Size.Large"/>
        }

    </MudOverlay>
</MudItem>


@code {

    public enum OverlayStatus
    {
        Content,
        Loading,
        Error
    }

    public enum OverlayBackground
    {
        Auto,
        Dark,
        Light
    }


    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public OverlayStatus Status { get; set; } = OverlayStatus.Content;

    [Parameter]
    public OverlayBackground Background { get; set; } = OverlayBackground.Auto;

}