@page "/todos"
@using CIAHome.Shared.Model
@using CIAHome.Shared.Interfaces

@foreach (var list in _lists)
{
    <TodoListItem></TodoListItem>
}

@foreach (var todo in _uncategorized)
{
    <TodoItem></TodoItem>
}

<MudButton></MudButton>

@code {

    [Inject]
    IAsyncRepository<Todo> TodoRepository { get; set; }

    [Inject]
    IAsyncRepository<TodoList> TodoListRepository { get; set; }

    private IEnumerable<TodoList> _lists;
    private IEnumerable<Todo> _uncategorized;

    /// <inheritdoc />
    protected override async Task OnInitializedAsync()
    {
        _uncategorized = await TodoRepository.All();
        _lists = await TodoListRepository.All();
        StateHasChanged();
    }


}